# Release v1.0.0

**Release Date:** 2025-12-31
**Type:** STABLE - First Major Release

## Overview

This is the **first stable v1.0.0 release** of the 4-noks Elios4you integration, marking the culmination of a comprehensive development journey from initial release to production-ready status.

This release represents a mature, battle-tested integration that has undergone extensive development and testing cycles, achieving **Home Assistant Quality Scale Gold tier compliance**.

---

## The Journey to v1.0.0

### From v0.1.0 to v1.0.0

| Version | Date | Milestone |
|---------|------|-----------|
| v0.1.0 | 2024-02-20 | Initial release - basic telnet integration |
| v0.2.0-beta.1 | 2025-10-12 | Critical bug fixes, sensor availability |
| v0.2.0-beta.2 | 2025-10-12 | Hotfix for API close method |
| v0.2.0-beta.3 | 2025-10-13 | Architecture alignment, logging standardization |
| v0.2.0 | 2025-10-15 | First stable release with HA 2025.10.x compatibility |
| v0.3.0-beta.1 | 2025-12-29 | Connection pooling fix for device "deaf" issue |
| v0.4.0-beta.1 | 2025-12-29 | Full async telnetlib3 migration |
| v0.4.0-beta.2 | 2025-12-29 | telnetlib3 API optimization |
| v0.4.0-beta.3 | 2025-12-29 | Comprehensive test suite (98% coverage) |
| **v1.0.0** | 2025-12-31 | **Production-ready stable release** |

---

## Key Highlights Since v0.2.0 (Last Stable)

### Full Async Telnet Implementation

- **Migrated to telnetlib3** - All telnet I/O operations are now fully async
- **No Event Loop Blocking** - Home Assistant remains responsive during polling
- **Async Methods** - `_async_read_until()`, `_async_send_command()`, async connection management
- **Removed Bundled telnetlib** - 672 lines of legacy sync code deleted

### Connection Pooling

- **25-Second Reuse Window** - Connections are reused to prevent socket exhaustion
- **Fixed Device "Deaf" Issue** - Eliminated 50-60 daily unresponsive periods
- **Race Condition Prevention** - `asyncio.Lock` serializes polling and switch operations
- **Graceful Cleanup** - Proper connection shutdown with buffer draining

### Comprehensive Test Suite

- **188 Tests Passing** - Covering all integration components
- **98% Code Coverage** - Industry-leading test coverage
- **Test Files**:
  - `conftest.py` - Shared fixtures
  - `test_api.py` - API communication tests
  - `test_config_flow.py` - Config/Options/Reconfigure flow tests
  - `test_coordinator.py` - Data coordinator tests
  - `test_init.py` - Integration lifecycle tests
  - `test_sensor.py` - Sensor entity tests
  - `test_switch.py` - Switch entity tests

### Home Assistant Quality Scale Compliance

- **Gold Tier** - All mandatory and recommended rules implemented
- **Config Flow** - ConfigFlow, OptionsFlow, ReconfigureFlow
- **Repair Notifications** - Connection issues surfaced in HA repairs system
- **Diagnostics Support** - Downloadable diagnostics for troubleshooting
- **Device Registry** - Proper device info and stale device cleanup
- **Translation Support** - 6 languages (EN, DE, IT, NL, PL, UK)

### CI/CD Pipeline

- **test.yml** - Pytest with coverage, Codecov integration
- **lint.yml** - Ruff format, Ruff check, ty type checker
- **validate.yml** - hassfest and HACS validation
- **release.yml** - Automatic ZIP creation on GitHub release

### Type Checking with ty

- **Migrated from mypy to ty** - Astral's Rust-based type checker
- **Faster CI** - Significant speed improvement over mypy
- **Symlink Workaround** - Handles numeric package name (`4noks_elios4you`)

---

## What's New in v1.0.0

### Documentation Updates

- **Known Limitations Section** - Documents single device per instance limitation
- **Troubleshooting Section** - Debug logging, repair notifications, issue reporting
- **Updated Features** - Repair notifications and diagnostics support documented

---

## Breaking Changes

**None**. Migration from any previous version is seamless.

---

## Requirements

- **Home Assistant:** 2025.10.0 or newer
- **Python:** 3.13 or newer
- **HACS:** For easy installation (recommended)

---

## Installation

### Via HACS (Recommended)

1. Open HACS in Home Assistant
2. Go to Integrations
3. Search for "4-noks Elios4You"
4. Click Install/Update to v1.0.0

### Manual Installation

1. Download `4noks_elios4you.zip` from the [release assets](https://github.com/alexdelprete/ha-4noks-elios4you/releases/tag/v1.0.0)
2. Extract to `custom_components/4noks_elios4you/`
3. Restart Home Assistant

---

## Features Summary

### Entities

- **41 Sensor Entities** - Power, energy, peaks, alarms, device info
- **1 Switch Entity** - Relay control

### Configuration Flows

| Flow | Purpose | Changes |
|------|---------|---------|
| **ConfigFlow** | Initial setup | Name, host, port, scan interval |
| **OptionsFlow** | Runtime tuning | Scan interval (30-300s) |
| **ReconfigureFlow** | Connection changes | Name, host, port |

### Technical Architecture

- **Async I/O** - telnetlib3 for non-blocking operations
- **Connection Pooling** - 25-second reuse window
- **Command Retry** - 3 retries with 300ms delay
- **Custom Exceptions** - `TelnetConnectionError`, `TelnetCommandError`
- **Structured Logging** - Contextual helpers for debugging

---

## Files Changed in v1.0.0

| File | Changes |
|------|---------|
| `README.md` | Added Known Limitations, Troubleshooting, updated Features |
| `docs/releases/v1.0.0.md` | This release notes file |
| `CHANGELOG.md` | Added v1.0.0 section |
| `CLAUDE.md` | Added v1.0.0 release history |
| `manifest.json` | Version bump to 1.0.0 |
| `const.py` | VERSION constant to 1.0.0 |

---

## Acknowledgments

### Development Team

- **@alexdelprete** - Integration author and maintainer
- **Claude AI (Opus 4.5)** - AI-assisted development
- **Claude Code** - VSCode extension

### Inspiration

- **ABB Power-One PVI SunSpec** - Reference implementation patterns
- **Home Assistant Core Team** - Integration development patterns
- **Davide Vertuani** - Original protocol reverse engineering

### Community

- **Home Assistant Community** - Feedback and testing
- **HACS** - Making custom integrations accessible
- **Beta Testers** - Validating all beta releases

---

## Documentation & Support

- **GitHub Repository:** https://github.com/alexdelprete/ha-4noks-elios4you
- **Issues:** https://github.com/alexdelprete/ha-4noks-elios4you/issues
- **Community Forum:** https://community.home-assistant.io/t/custom-component-4-noks-elios4you-data-integration/692883
- **Changelog:** [CHANGELOG.md](../../CHANGELOG.md)

---

## Full Changelog

**Full Changelog:** https://github.com/alexdelprete/ha-4noks-elios4you/compare/v0.2.0...v1.0.0

---

**Thank you for using the 4-noks Elios4you integration!**

Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude <noreply@anthropic.com>
